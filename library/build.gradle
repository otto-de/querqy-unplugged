plugins {
    id 'java-library'
    id 'maven-publish'
    id 'signing'
}

apply from: '../gradle/repositoriesGitHub.gradle'

repositories {
    mavenCentral()
}

allprojects {
    group = 'org.querqy'
    version = '1.0.1'
}


ext {
    querqyCoreVersion = '3.15.0'
    elasticsearchVersion = '7.17.8'
}

dependencies {
    api "org.querqy:querqy-core:${querqyCoreVersion}"

    compileOnly "co.elastic.clients:elasticsearch-java:${elasticsearchVersion}"

    // Testing
    testImplementation "org.assertj:assertj-core:3.23.1"
    testImplementation "junit:junit:4.13.2"
    testImplementation "org.mockito:mockito-core:4.11.0"

    // Lombok
    compileOnly "org.projectlombok:lombok:1.18.24"
    annotationProcessor "org.projectlombok:lombok:1.18.24"
    testCompileOnly "org.projectlombok:lombok:1.18.24"
    testAnnotationProcessor "org.projectlombok:lombok:1.18.24"
}

test {
    useJUnit()
}


java {
    withJavadocJar()
    withSourcesJar()
    sourceCompatibility = 11
}


jar {
    archiveBaseName = "${rootProject.name}"
    archiveVersion = "${project.version}"
}


javadoc {
    if(JavaVersion.current().isJava9Compatible()) {
        options.addBooleanOption('html5', true)
    }
}